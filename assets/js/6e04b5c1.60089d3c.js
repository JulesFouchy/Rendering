"use strict";(self.webpackChunkrendering=self.webpackChunkrendering||[]).push([[6767],{9014:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var r=s(4848),t=s(8453),a=s(8228);const i={},l=void 0,o={id:"Deep dive/Normal maps",title:"Normal maps",description:"Qu'est-ce qu'une normal map ?",source:"@site/docs/Deep dive/04-Normal maps.md",sourceDirName:"Deep dive",slug:"/Deep dive/Normal maps",permalink:"/Rendering/Deep dive/Normal maps",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"deep_dive",previous:{title:"Shadow maps & Ambient Occlusion",permalink:"/Rendering/Deep dive/Shadow maps & Ambient Occlusion"},next:{title:"Anti-Aliasing",permalink:"/Rendering/Deep dive/Anti-Aliasing"}},d={},u=[{value:"Qu&#39;est-ce qu&#39;une normal map ?",id:"quest-ce-quune-normal-map-",level:2},{value:"TP : cr\xe9er une normal map",id:"tp--cr\xe9er-une-normal-map",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"quest-ce-quune-normal-map-",children:"Qu'est-ce qu'une normal map ?"}),"\n",(0,r.jsx)(n.p,{children:"Une normal map permet de rajouter des d\xe9tails et une impression de relief sur un mesh avec relativement peu de triangles. Cela permet d'\xe9conomiser beaucoup de performances, et est donc indispensable pour les assets d'un jeu vid\xe9o !"}),"\n",(0,r.jsxs)(n.p,{children:["Les normales d'un mod\xe8le sont les informations qui indiquent dans quelle direction la surface est orient\xe9e, et elles permettent de calculer les effets de lumi\xe8re. Ce sont les fl\xe8ches grises sur ce sch\xe9ma :\n",(0,r.jsx)(n.img,{alt:"Normals",src:s(5938).A+"",width:"700",height:"456"})]}),"\n",(0,r.jsxs)(n.p,{children:["Par d\xe9faut, elles sont calcul\xe9es en fonction des triangles, et donc plus il y a de triangles plus les normales sont vari\xe9es et rajoutent du relief. Mais il est possible de sauvegarder ces normales dans une texture, afin que chaque pixel du triangle ait une normale diff\xe9rente.",(0,r.jsx)("br",{}),"\nOn peut ainsi garder les informations des normales, m\xeame en ayant moins de triangles.\n",(0,r.jsx)(n.img,{alt:"Normal_map",src:s(4079).A+"",width:"900",height:"560"})]}),"\n",(0,r.jsx)(n.p,{children:"La seule chose qu'on perd avec une normal map, c'est le volume r\xe9el : en mettant votre vue rasante avec l'objet, vous verrez qu'il est plat et l'illusion est cass\xe9e."}),"\n",(0,r.jsx)(n.h2,{id:"tp--cr\xe9er-une-normal-map",children:"TP : cr\xe9er une normal map"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Pour ce TP nous allons utiliser Blender. Si vous ne l'avez pas d\xe9j\xe0, ",(0,r.jsx)(n.a,{href:"https://www.blender.org/download/",children:"vous pouvez le t\xe9l\xe9charger ici"}),". NB : j'utilise la version 4.1 de Blender (la derni\xe8re en date), mais vous devriez pouvoir suivre avec n'importe quelle version de Blender."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://www.turbosquid.com/3d-models/3d-pendant-jewelry-relief-model-1609783",children:"T\xe9l\xe9chargez le mod\xe8le qui nous servira d'exemple"})," et importez-le dans Blender. (Si vous avez Blender 4.1, il vous suffit de drag'n drop le fichier. Et sinon, allez dans le menu ",(0,r.jsx)(n.code,{children:"File > Import > Wavefront (.obj)"}),")\n",(0,r.jsx)(n.img,{alt:"Mod\xe8le import\xe9",src:s(4396).A+"",width:"1918",height:"1006"})]}),"\n",(0,r.jsxs)(n.li,{children:["En affichant le wireframe du mesh, vous verrez qu'il contient \xc9NORM\xc9MENT de triangles. C'est tr\xe8s bien pour du cin\xe9ma o\xf9 on veut la qualit\xe9 maximale, mais pour du jeu vid\xe9o le co\xfbt en performance sera beaucoup trop \xe9lev\xe9, pour un gain de qualit\xe9 pas si important. On a moyen de beaucoup all\xe9ger le mesh, tout en gardant une grosse partie des d\xe9tails, gr\xe2ce \xe0 une normal map.\n",(0,r.jsx)(n.img,{alt:"Wireframe",src:s(7737).A+"",width:"1587",height:"883"})]}),"\n",(0,r.jsxs)(n.li,{children:["Vous pouvez afficher le nombre de triangles en activant les statistiques\n",(0,r.jsx)(n.img,{alt:"Statistiques",src:s(8746).A+"",width:"1591",height:"866"})]}),"\n",(0,r.jsx)(n.li,{children:"Pour cr\xe9er une normal map, suivez le tuto ci-dessous. Lors du decimate (r\xe9duction du nombre de triangles), vous pouvez mettre le ratio \xe0 0.001 (Vous pouvez aussi exp\xe9rimenter avec d'autres ratios, et voir jusqu'o\xf9 vous pouvez aller tout en pr\xe9servant la qualit\xe9 du rendu. Vous pouvez m\xeame cr\xe9er un simple cylindre, le rendu sera pas mal du tout !)"}),"\n"]}),"\n",(0,r.jsx)(a.A,{id:"l8xrSgyfEHs"})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8228:(e,n,s)=>{s.d(n,{A:()=>a});s(6540);const r={video:"video_HWqi"};var t=s(4848);function a(e){let{id:n}=e;return(0,t.jsx)("div",{className:r.video,children:(0,t.jsx)("iframe",{src:`https://www.youtube.com/embed/${n}`,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})})}},4396:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/nm-import-8fb6f3a0b8f560eb0c93d29d83cc88fa.png"},4079:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/nm-normal-map-f6904ae97b85cc6e6072d9c6489b85b1.png"},5938:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/nm-normal-83901cf66b95fefd2458b28cc47a4280.png"},8746:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/nm-statistiques-7a439738241a913ac1dd64bcdfd0ba9b.png"},7737:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/nm-wireframe-1cf56d7dc5c0daadb8fe15cb2b42bb80.png"},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var r=s(6540);const t={},a=r.createContext(t);function i(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);