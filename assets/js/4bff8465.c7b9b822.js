"use strict";(self.webpackChunkrendering=self.webpackChunkrendering||[]).push([[526],{6107:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var i=n(4848),s=n(8453);const t={},o=void 0,a={id:"M1 GP/Partie 3 - Du vrai rendu 3D",title:"Partie 3 - Du vrai rendu 3D",description:"Charger un mesh depuis un fichier",source:"@site/docs/M1 GP/Partie 3 - Du vrai rendu 3D.md",sourceDirName:"M1 GP",slug:"/M1 GP/Partie 3 - Du vrai rendu 3D",permalink:"/Rendering/M1 GP/Partie 3 - Du vrai rendu 3D",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"M1GP",previous:{title:"Partie 2 - Bases du rendu",permalink:"/Rendering/M1 GP/Partie 2 - Bases du rendu"}},l={},d=[{value:"Charger un mesh depuis un fichier",id:"charger-un-mesh-depuis-un-fichier",level:2},{value:"Premier mod\xe8le d&#39;\xe9clairage et Normales",id:"premier-mod\xe8le-d\xe9clairage-et-normales",level:2},{value:"Ombres",id:"ombres",level:2},{value:"Normal maps",id:"normal-maps",level:2},{value:"Effet see-through",id:"effet-see-through",level:2}];function u(e){const r={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h2,{id:"charger-un-mesh-depuis-un-fichier",children:"Charger un mesh depuis un fichier"}),"\n",(0,i.jsxs)(r.p,{children:["Pour commencer, nous allons enfin utiliser de vrais mod\xe8les 3D. Pour cela, nous allons utiliser la librairie ",(0,i.jsx)(r.a,{href:"TODO",children:(0,i.jsx)(r.em,{children:"tinyobjloader"})})," qui lit le format de fichier ",(0,i.jsx)(r.em,{children:".obj"})," (un format simple de mod\xe8le 3D, qui est essentiellement une longue liste de sommets avec positions, UVs, normales, etc.). La librairie est d\xe9j\xe0 inclue par ",(0,i.jsx)(r.em,{children:"opengl-framework"}),", vous n'avez rien \xe0 faire de ce c\xf4t\xe9 l\xe0. Je vous laisse vous r\xe9f\xe9rer \xe0 ",(0,i.jsxs)(r.a,{href:"TODO",children:["la documentation de ",(0,i.jsx)(r.em,{children:"tinyobjloader"})]})," pour voir comment l'utiliser pour lire un mod\xe8le 3D. Pour vos tests, vous pouvez utiliser ",(0,i.jsx)(r.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(2674).A+"",children:"ce mod\xe8le 3D"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"NB:"})," vous aurez besoin de la fonction ",(0,i.jsx)(r.code,{children:"gl::make_absolute_path(path)"})," pour convertir un chemin relatif (par exemple ",(0,i.jsx)(r.code,{children:'"res/meshes/fourareen.obj"'})," en un chemin absolu que ",(0,i.jsx)(r.em,{children:"tinyobjloader"})," va comprendre)."]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{src:n(4350).A+"",width:"1920",height:"1030"})}),"\n",(0,i.jsx)(r.admonition,{type:"tip",children:(0,i.jsxs)(r.p,{children:["N'essayez pas de faire un index buffer, les sommets tels qu'ils sont donn\xe9s par ",(0,i.jsx)(r.em,{children:"tinyobjloader"}),"  ont un index buffer diff\xe9rent pour chaque attribut, ce qui n'est pas support\xe9 par OpenGL. Il faudrait plut\xf4t inspecter tous les sommets pour d\xe9tecter ceux qui ont les m\xeames positions ",(0,i.jsx)(r.strong,{children:"et"})," UVs ",(0,i.jsx)(r.strong,{children:"et"})," normales et recr\xe9er notre propre index buffer \xe0 partir de \xe7a."]})}),"\n",(0,i.jsx)(r.admonition,{type:"tip",children:(0,i.jsx)(r.p,{children:"Si votre mod\xe8le est pench\xe9 sur le c\xf4t\xe9 au d\xe9but, c'est \"normal\". Il n'y a pas de convention universelle pour l'axe qui pointe vers le haut : certain.es utilisent Y, et d'autres Z. Il faudra donc l\xe9g\xe8rement modifier les vertexs du mesh afin de faire pointer le bon axe vers le haut."})}),"\n",(0,i.jsx)(r.admonition,{title:"Note",type:"info",children:(0,i.jsxs)(r.p,{children:["Il y a aussi un fichier ",(0,i.jsx)(r.em,{children:".mtl"})," dans le mod\xe8le que je vous ai fourni. Il d\xe9crit le mat\xe9riau de l'objet, nous en parlerons ",(0,i.jsx)(r.a,{href:"TODO",children:"plus tard"}),"."]})}),"\n",(0,i.jsx)(r.h2,{id:"premier-mod\xe8le-d\xe9clairage-et-normales",children:"Premier mod\xe8le d'\xe9clairage et Normales"}),"\n",(0,i.jsx)(r.h2,{id:"ombres",children:"Ombres"}),"\n",(0,i.jsx)(r.h2,{id:"normal-maps",children:"Normal maps"}),"\n",(0,i.jsx)(r.h2,{id:"effet-see-through",children:"Effet see-through"}),"\n",(0,i.jsx)(r.p,{children:"-> depth buffer"})]})}function c(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},2674:(e,r,n)=>{n.d(r,{A:()=>i});const i=n.p+"assets/files/fourareen-fa4bc93def8c839a6e356b89533490ee.zip"},4350:(e,r,n)=>{n.d(r,{A:()=>i});const i=n.p+"assets/images/step-23-60a996da3d244e1bc650651e8cc943d1.png"},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>a});var i=n(6540);const s={},t=i.createContext(s);function o(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);